KDD’22,August14–18,2022,Washington,DC,USA BirgitPfitzmann,ChristophAuer,MicheleDolfi,AhmedS.Nassar,andPeterStaar
1 INTRODUCTION Thisenablesexperimentationwithannotationuncertainty
andqualitycontrolanalysis.
Despitethesubstantialimprovementsachievedwithmachine-learning (5) Pre-definedTrain-,Test-&Validation-set:LikeDocBank,we
(ML)approachesanddeepneuralnetworksinrecentyears,docu- providefixedtrain-,test-&validation-setstoensurepropor-
mentconversionremainsachallengingproblem,asdemonstrated tionalrepresentationoftheclass-labels.Further,weprevent
bythenumerouspubliccompetitionsheldonthistopic[1–4].The leakageofuniquelayoutsacrosssets,whichhasalargeeffect
challengeoriginatesfromthehugevariabilityinPDFdocuments onmodelaccuracyscores.
regardinglayout,languageandformats(scanned,programmatic AllaspectsoutlinedabovearedetailedinSection3.InSection4,
oracombinationofboth).EngineeringasingleMLmodelthatcan wewillelaborateonhowwedesignedandexecutedthislarge-scale
beappliedonalltypesofdocumentsandprovideshigh-quality humanannotationcampaign.Wewillalsosharekeyinsightsand
layoutsegmentationremainstothisdayextremelychallenging[5]. lessonslearnedthatmightprovehelpfulforotherpartiesplanning
Tohighlightthevariabilityindocumentlayouts,weshowafew tosetupannotationcampaigns.
exampledocumentsfromtheDocLayNetdatasetinFigure1. InSection5,wewillpresentbaselineaccuracynumbersfora
Akeyproblemintheprocessofdocumentconversionistounder- varietyofobjectdetectionmethods(FasterR-CNN,MaskR-CNN
standthestructureofasingledocumentpage,i.e.whichsegments andYOLOv5)trainedonDocLayNet.Wefurthershowhowthe
oftextshouldbegroupedtogetherinaunit.Totrainmodelsforthis modelperformanceisimpactedbyvaryingtheDocLayNetdataset
task,therearecurrentlytwolargedatasetsavailabletothecom- size,reducingthelabelsetandmodifyingthetrain/test-split.Last
munity,PubLayNet[6]andDocBank[7].Theywereintroduced butnotleast,wecomparetheperformanceofmodelstrainedon
in2019and2020respectivelyandsignificantlyacceleratedtheim- PubLayNet,DocBankandDocLayNetanddemonstratethatamodel
plementationoflayoutdetectionandsegmentationmodelsdueto trainedonDocLayNetprovidesoverallmorerobustlayoutrecovery.
theirsizesof300Kand500Kground-truthpages.Thesesizeswere
achievedbyleveraginganautomationapproach.Thebenefitofau- 2 RELATEDWORK
tomatedground-truthgenerationisobvious:onecangeneratelarge
ground-truthdatasetsatvirtuallynocost.However,theautomation
While early approaches in document-layout analysis used rule-
introducesaconstraintonthevariabilityinthedataset,because
basedalgorithmsandheuristics[8],theproblemislatelyaddressed
correspondingstructuredsourcedatamustbeavailable.PubLayNet
withdeeplearningmethods.Themostcommonapproachistolever-
andDocBankwerebothgeneratedfromscientificdocumentrepos-
ageobjectdetectionmodels[9–15].Inthelastdecade,theaccuracy
itories(PubMedandarXiv),whichprovideXMLorLATEX sources.
andspeedofthesemodelshasincreaseddramatically.Furthermore,
Thosescientificdocumentspresentalimitedvariabilityintheir
moststate-of-the-artobjectdetectionmethodscanbetrainedand
layouts,becausetheyaretypesetinuniformtemplatesprovidedby
appliedwithverylittlework,thankstoastandardisationeffort
thepublishers.Obviously,documentssuchastechnicalmanuals,
oftheground-truthdataformat[16]andcommondeep-learning
annualcompanyreports,legaltext,governmenttenders,etc.have
frameworks[17].ReferencedatasetssuchasPubLayNet[6]and
verydifferentandpartiallyuniquelayouts.Asaconsequence,the
DocBankprovidetheirdatainthecommonlyacceptedCOCOfor-
layoutpredictionsobtainedfrommodelstrainedonPubLayNetor
mat[16].
DocBankisveryreasonablewhenappliedonscientificdocuments.
Lately,newtypesofMLmodelsfordocument-layoutanalysis
However, for more artistic or free-style layouts, we see sub-par
have emerged in the community [18–21]. These models do not
predictionqualityfromthesemodels,whichwedemonstratein
approachtheproblemoflayoutanalysispurelybasedonanimage
Section5.
representationofthepage,ascomputervisionmethodsdo.Instead,
Inthispaper,wepresenttheDocLayNetdataset.Itprovidespage-
theycombinethetexttokensandimagerepresentationofapage
by-pagelayoutannotationground-truthusingbounding-boxesfor
inordertoobtainasegmentation.Whilethereportedaccuracies
11distinctclasslabelson80863uniquedocumentpages,ofwhich
appeartobepromising,abroadlyaccepteddataformatwhichlinks
afractioncarrydouble-ortriple-annotations.DocLayNetissimilar
geometricandtextualfeatureshasyettoestablish.
inspirittoPubLayNetandDocBankandwilllikewisebemade
availabletothepublic1inordertostimulatethedocument-layout
3 THEDOCLAYNETDATASET
analysiscommunity.Itdistinguishesitselfinthefollowingaspects:
(1) HumanAnnotation:IncontrasttoPubLayNetandDocBank,
DocLayNetcontains80863PDFpages.Amongthese,7059carrytwo
wereliedonhumanannotationinsteadofautomationap-
instancesofhumanannotations,and1591carrythree.Thisamounts
proachestogeneratethedataset.
to91104totalannotationinstances.Theannotationsprovidelay-
(2) LargeLayoutVariability:Weincludediverseandcomplex
out information in the shape of labeled, rectangular bounding-
layoutsfromalargevarietyofpublicsources.
boxes.Wedefine11distinctlabelsforlayoutfeatures,namelyCap-
(3) DetailedLabelSet:Wedefine11classlabelstodistinguish
tion,Footnote,Formula,List-item,Page-footer,Page-header,Picture,
layoutfeaturesinhighdetail.PubLayNetprovides5labels;
Section-header,Table,Text,andTitle.Ourreasoningforpickingthis
DocBankprovides13,althoughnotasupersetofours.
particularlabelsetisdetailedinSection4.
(4) RedundantAnnotations:AfractionofthepagesintheDo-
In addition to open intellectual property constraints for the
cLayNetdatasetcarrymorethanonehumanannotation.
sourcedocuments,werequiredthatthedocumentsinDocLayNet
1https://developer.ibm.com/exchanges/data/all/doclaynet adheretoafewconditions.Firstly,wekeptscanneddocuments